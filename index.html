<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VC</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="video-container">
        <video id="video">
            <source src="Dedinka.mp4" type="video/mp4">
        </video>
    </div>
    <div class="text">
        <p>ahoj</p>
        <p class="th">toto je jedna malá Dedinka</p>
        <p>vytovril som niečo ako parallax efekt</p>
        <p class="th">pomocou javascriptu</p>
        <p>prehrávanie je naviazané na scrollovanie</p>
    </div>
    
    
    <script>

        // Get a reference to the video element
        var video = document.getElementById('video');

        // Check if the device is an iOS device
        if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
            // Create an event listener for the touchmove event on iOS devices
            window.addEventListener('touchmove', function(event) {
            // Get the current touch position
            var touchY = event.touches[0].clientY;

            // Calculate the percentage of the video that should be played based on the touch position
            var percentage = touchY / window.innerHeight;

            // Update the current time of the video
            video.currentTime = video.duration * percentage;
        });
            
            /*var initialY;

            document.addEventListener('touchstart', function(event) {
            initialY = event.touches[0].clientY;
            });

            document.addEventListener('touchmove', function(event) {
            var currentY = event.touches[0].clientY;
            var difference = initialY - currentY;
            var percentage = difference / window.innerHeight;
            video.currentTime = video.duration * percentage;
            });
            
            
            // Create an event listener for the scroll event on iOS devices
            window.addEventListener('touchmove', function() {
            // Get the current scroll position
            var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            // Calculate the percentage of the video that should be played based on the scroll position
            var percentage = scrollTop / (document.body.scrollHeight - window.innerHeight);

            // Update the current time of the video
            video.currentTime = video.duration * percentage;*/
        
        } else {
            // Create an event listener for the scroll event
            window.addEventListener('scroll', function() {
            // Get the current scroll position
            var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            // Calculate the percentage of the video that should be played based on the scroll position
            var percentage = scrollTop / (document.body.scrollHeight - window.innerHeight);

            // Update the current time of the video
            video.currentTime = video.duration * percentage;
        });
        }
      
    </script>
</body>
</html>